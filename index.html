<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Menu Anim√© - jQuery + GSAP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .menu-btn {
            padding: 15px 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        .menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: #2c3e50;
            padding: 50px 20px;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
        }

        .menu ul {
            list-style: none;
            padding: 0;
        }

        .menu li {
            padding: 20px;
            color: white;
            font-size: 20px;
            opacity: 0;
            transform: translateX(50px);
        }

        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }

        .carousel-container {
            max-width: 600px;
            margin: 50px auto;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }

        .carousel-slides {
            display: flex;
            width: 400%;
            /* 4 images */
        }

        .slide {
            width: 25%;
            /* 100% / 4 */
            flex-shrink: 0;
        }

        .slide img {
            width: 100%;
            display: block;
        }

        .carousel-nav {
            text-align: center;
            margin-top: 20px;
        }

        .carousel-nav button {
            padding: 10px 20px;
            margin: 0 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .dots {
            text-align: center;
            margin-top: 15px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            display: inline-block;
            margin: 0 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .dot.active {
            background: #3498db;
        }

        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .features {
            background: #f8f9fa;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            max-width: 1200px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .cta {
            background: #2c3e50;
            color: white;
            text-align: center;
        }

        .cta-button {
            padding: 20px 50px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <button class="menu-btn">‚ò∞ Ouvrir le menu</button>

    <div class="menu">
        <button class="close-menu">√ó</button>
        <ul>
            <li>Accueil</li>
            <li>√Ä propos</li>
            <li>Services</li>
            <li>Portfolio</li>
            <li>Contact</li>
        </ul>
    </div>

    <body>
        <div class="carousel-container">
            <div class="carousel-slides">
                <div class="slide"><img src="https://picsum.photos/600/400?random=1" alt="Image 1"></div>
                <div class="slide"><img src="https://picsum.photos/600/400?random=2" alt="Image 2"></div>
                <div class="slide"><img src="https://picsum.photos/600/400?random=3" alt="Image 3"></div>
                <div class="slide"><img src="https://picsum.photos/600/400?random=4" alt="Image 4"></div>
            </div>
        </div>

        <div class="carousel-nav">
            <button id="prev">‚Üê Pr√©c√©dent</button>
            <button id="next">Suivant ‚Üí</button>
        </div>

        <div class="dots">
            <span class="dot active" data-index="0"></span>
            <span class="dot" data-index="1"></span>
            <span class="dot" data-index="2"></span>
            <span class="dot" data-index="3"></span>
        </div>

    <section class="hero">
        <div>
            <h1 class="hero-title">Bienvenue sur notre site</h1>
            <p class="hero-subtitle">Des animations fluides avec GSAP et jQuery</p>
        </div>
    </section>

    <section class="features">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>Rapide</h3>
                <p>Performance optimale garantie</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üé®</div>
                <h3>Design moderne</h3>
                <p>Interface √©l√©gante et intuitive</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üöÄ</div>
                <h3>Facile</h3>
                <p>Simple √† utiliser et √† personnaliser</p>
            </div>
        </div>
    </section>

    <section class="cta">
        <div>
            <h2 class="cta-title">Pr√™t √† commencer ?</h2>
            <button class="cta-button">D√©marrer maintenant</button>
        </div>
    </section>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
        <script>
            // r√©cuperer le bouton

            const menuBtn = $('.menu-btn');

            // animer laffichage du menu au click du btn 

            menuBtn.on('click', function () {

                // avec gsap, entr√©e du menu par la droite + stagger

                gsap.to('.menu',
                    {
                        duration: 0.5,
                        right: 0,
                        ease: "power2.out"
                    });
                gsap.to('.menu li',
                    {
                        duration: 0.5,
                        x: 0,
                        opacity: 1,
                        stagger: 0.1,
                        delay: 0.2,
                        ease: "power2.out"
                    });
            });

            // recuperer btn close menu 

            const closeBtn = $('.close-menu');

            // animer fermeture 

            closeBtn.on('click', function () {

                // avec gsap, sortie du menu par la droite + masquer element de la liste

                gsap.to('.menu li',
                    {
                        duration: 0.3,
                        x: 50,
                        opacity: 0,
                        stagger: 0.1,
                        ease: "power2.in"
                    });
                gsap.to('.menu',
                    {
                        duration: 0.3,
                        right: -300,
                        delay: 0.2,
                        ease: "power2.in"
                    });
            });

            // recup du btn suivant et precedent
            const nextBtn = $('#next');
            const prevBtn = $('#prev');

            // recup des slides 
            const slides = $('.carousel-slides');

            // index de la slide actuelle
            let currentIndex = 0;
            const totalSlides = $('.slide').length;

            // event click suivant

            nextBtn.on('click', function () {
                currentIndex = (currentIndex + 1) % totalSlides;
                updateCarousel();
            });

            // event retour

            prevBtn.on('click', function () {
                currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
                updateCarousel();
            });

            // fonction MAJcarousel
            function updateCarousel() {
                const offset = -currentIndex * 600; // largeur de chaque slide
                gsap.to(slides, {
                    duration: 0.5,
                    x: offset,
                    ease: "power2.out"
                });

                // mettre √† jour les points
                $('.dot').removeClass('active');
                $(`.dot[data-index=${currentIndex}]`).addClass('active');
            }

            // nav sur les dots 

            $('.dot').on('click', function () {
                currentIndex = $(this).data('index');
                updateCarousel();
            });

            // Bonus : Ajouter un d√©filement automatique toutes les 3 secondes

            // setInterval(function () {
            //     currentIndex = (currentIndex + 1) % totalSlides;
            //     updateCarousel();
            // }, 3000);



            // Bonus : Mettre en pause le d√©filement au survol

            let autoSlide = setInterval(function () {
                currentIndex = (currentIndex + 1) % totalSlides;
                updateCarousel();
            }, 3000);

            $('.carousel-container').hover(
                function () {
                    // mouseenter - pause l'auto-scroll
                    clearInterval(autoSlide);
                },
                function () {
                    // mouseleave - red√©marre l'auto-scroll
                    autoSlide = setInterval(function () {
                        currentIndex = (currentIndex + 1) % totalSlides;
                        updateCarousel();
                    }, 3000);
                }
            );

        </script>
    </body>

</html>